{
  "IntentDefined": {
    "situation": "IntentDefined",
    "startQuestionId": "intent-summary-text",
    "questions": [
      {
        "id": "intent-summary-text",
        "question": "Intent를 한 문장으로 요약해주세요",
        "type": "text",
        "required": true,
        "nextQuestionId": "intent-consistent",
        "showData": {
          "type": "intent-summary",
          "label": "기존 Intent 요약",
          "source": "getIntentSummary"
        }
      },
      {
        "id": "intent-consistent",
        "question": "설명할 때마다 내용이 일관되나요?",
        "type": "yesno",
        "required": true,
        "onYesNextQuestionId": "intent-no-tech",
        "onNoNextSituation": "IntentDefinedFail"
      },
      {
        "id": "intent-no-tech",
        "question": "기능이나 기술을 언급하지 않았나요?",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "ProblemSelected",
        "onNoNextSituation": "IntentDefinedFail"
      }
    ]
  },
  "IntentDefinedFail": {
    "situation": "IntentDefinedFail",
    "startQuestionId": "intent-unclear-what",
    "questions": [
      {
        "id": "intent-unclear-what",
        "question": "어떤 부분이 불명확한가요?",
        "type": "text",
        "required": true,
        "nextQuestionId": "intent-clarify-questions"
      },
      {
        "id": "intent-clarify-questions",
        "question": "명확히 하기 위한 질문을 작성했나요?",
        "type": "yesno",
        "required": true,
        "onYesNextQuestionId": "intent-clarify-questions-text",
        "onNoNextQuestionId": "intent-clarify-questions-text"
      },
      {
        "id": "intent-clarify-questions-text",
        "question": "명확히 하기 위한 질문을 작성해주세요",
        "type": "text",
        "required": true,
        "nextQuestionId": "intent-ready-rewrite"
      },
      {
        "id": "intent-ready-rewrite",
        "question": "Intent를 다시 작성할 준비가 되었나요?",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "IntentDefined",
        "onNoNextQuestionId": "intent-ready-rewrite"
      }
    ]
  },
  "ProblemSelected": {
    "situation": "ProblemSelected",
    "startQuestionId": "problem-boundaries-text",
    "questions": [
      {
        "id": "problem-boundaries-text",
        "question": "문제의 경계를 명확히 작성해주세요 (포함/제외)",
        "type": "text",
        "required": true,
        "nextQuestionId": "problem-distinct"
      },
      {
        "id": "problem-distinct",
        "question": "문제가 Intent와 구별되나요? (Intent는 큰 그림, 문제는 구체적)",
        "type": "yesno",
        "required": true,
        "onYesNextQuestionId": "problem-measurable",
        "onNoNextSituation": "IntentDefined",
        "showData": {
          "type": "intent-summary",
          "label": "기존 Intent 요약",
          "source": "getIntentSummary"
        }
      },
      {
        "id": "problem-measurable",
        "question": "문제를 해결했는지 알 수 있나요? (측정 가능한가요?)",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "AcceptanceDefined",
        "onNoNextQuestionId": "problem-measurable"
      }
    ]
  },
  "AcceptanceDefined": {
    "situation": "AcceptanceDefined",
    "startQuestionId": "criteria-measurable",
    "questions": [
      {
        "id": "criteria-measurable",
        "question": "각 기준을 true/false로 확인할 수 있나요?",
        "type": "yesno",
        "required": true,
        "onYesNextQuestionId": "criteria-linked",
        "onNoNextSituation": "ProblemSelected"
      },
      {
        "id": "criteria-linked",
        "question": "기준이 문제와 연결되어 있나요?",
        "type": "yesno",
        "required": true,
        "onYesNextQuestionId": "criteria-define-done",
        "onNoNextSituation": "ProblemSelected"
      },
      {
        "id": "criteria-define-done",
        "question": "기준으로 \"완료\"를 알 수 있나요?",
        "type": "yesno",
        "required": true,
        "onYesNextQuestionId": "criteria-count",
        "onNoNextSituation": "ProblemSelected"
      },
      {
        "id": "criteria-count",
        "question": "기준이 3-7개 정도인가요?",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "FeasibilityChecked",
        "onNoNextQuestionId": "criteria-count"
      }
    ]
  },
  "FeasibilityChecked": {
    "situation": "FeasibilityChecked",
    "startQuestionId": "constraints-text",
    "questions": [
      {
        "id": "constraints-text",
        "question": "기술적 제약사항을 작성해주세요",
        "type": "text",
        "required": true,
        "nextQuestionId": "resources-text"
      },
      {
        "id": "resources-text",
        "question": "리소스 요구사항을 작성해주세요",
        "type": "text",
        "required": true,
        "nextQuestionId": "feasibility-decision"
      },
      {
        "id": "feasibility-decision",
        "question": "결정을 내렸나요?",
        "type": "multiple",
        "required": true,
        "options": ["feasible", "too hard", "problem too big"]
      }
    ]
  },
  "DesignReady": {
    "situation": "DesignReady",
    "startQuestionId": "design-covers-criteria",
    "questions": [
      {
        "id": "design-covers-criteria",
        "question": "설계가 완료 기준을 다루나요?",
        "type": "yesno",
        "required": true,
        "onYesNextQuestionId": "design-ready-to-implement",
        "onNoNextSituation": "AcceptanceDefined"
      },
      {
        "id": "design-ready-to-implement",
        "question": "구현을 시작할 수 있을 정도인가요?",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "TaskBreakdown",
        "onNoNextSituation": "AcceptanceDefined"
      }
    ]
  },
  "TaskBreakdown": {
    "situation": "TaskBreakdown",
    "startQuestionId": "tasks-independent",
    "questions": [
      {
        "id": "tasks-independent",
        "question": "각 작업이 독립적으로 실행 가능한가요? (명확한 입력/출력)",
        "type": "yesno",
        "required": true,
        "onYesNextQuestionId": "tasks-session-sized",
        "onNoNextSituation": "DesignReady"
      },
      {
        "id": "tasks-session-sized",
        "question": "각 작업을 90분 안에 완료할 수 있나요?",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "Implementing",
        "onNoNextQuestionId": "tasks-session-sized"
      }
    ]
  },
  "Implementing": {
    "situation": "Implementing",
    "startQuestionId": "task-complete",
    "questions": [
      {
        "id": "task-complete",
        "question": "작업이 완료되었나요?",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "Verifying",
        "onNoNextQuestionId": "task-stuck"
      },
      {
        "id": "task-stuck",
        "question": "막혔나요? (15분 이상 고민 중)",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "TaskBreakdown",
        "onNoNextQuestionId": "task-complete"
      }
    ]
  },
  "Verifying": {
    "situation": "Verifying",
    "startQuestionId": "all-criteria-met",
    "questions": [
      {
        "id": "all-criteria-met",
        "question": "모든 기준이 만족되었나요?",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "Verified",
        "onNoNextQuestionId": "bugs-found"
      },
      {
        "id": "bugs-found",
        "question": "버그가 발견되었나요?",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "Implementing",
        "onNoNextQuestionId": "all-criteria-met"
      }
    ]
  },
  "Verified": {
    "situation": "Verified",
    "startQuestionId": "ready-for-release",
    "questions": [
      {
        "id": "ready-for-release",
        "question": "다음 단계(릴리스) 준비가 되었나요?",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "Released",
        "onNoNextQuestionId": "ready-for-release"
      }
    ]
  },
  "Released": {
    "situation": "Released",
    "startQuestionId": "release-announced",
    "questions": [
      {
        "id": "release-announced",
        "question": "릴리스가 공지되었나요?",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "FeedbackCollected",
        "onNoNextQuestionId": "release-announced"
      }
    ]
  },
  "FeedbackCollected": {
    "situation": "FeedbackCollected",
    "startQuestionId": "feedback-documented-text",
    "questions": [
      {
        "id": "feedback-documented-text",
        "question": "피드백을 문서화해주세요",
        "type": "text",
        "required": true,
        "nextSituation": "Learned"
      }
    ]
  },
  "Learned": {
    "situation": "Learned",
    "startQuestionId": "learned-new-facts",
    "questions": [
      {
        "id": "learned-new-facts",
        "question": "새롭게 알아낸 사실이 있나요?",
        "type": "yesno",
        "required": true,
        "onYesNextQuestionId": "learned-new-facts-text",
        "onNoNextQuestionId": "learned-improvements"
      },
      {
        "id": "learned-new-facts-text",
        "question": "어떤 사실을 새롭게 알아냈나요?",
        "type": "text",
        "required": true,
        "nextQuestionId": "learned-improvements"
      },
      {
        "id": "learned-improvements",
        "question": "개선할 점을 찾았나요?",
        "type": "yesno",
        "required": true,
        "onYesNextQuestionId": "learned-improvements-text",
        "onNoNextQuestionId": "learned-clear-implementation"
      },
      {
        "id": "learned-improvements-text",
        "question": "어떤 점을 개선할 수 있나요?",
        "type": "text",
        "required": true,
        "nextQuestionId": "learned-clear-implementation"
      },
      {
        "id": "learned-clear-implementation",
        "question": "바로 어떻게 개선해야할지 떠오르나요?",
        "type": "yesno",
        "required": true,
        "onYesNextSituation": "Implementing",
        "onNoNextQuestionId": "learned-next-action"
      },
      {
        "id": "learned-next-action",
        "question": "다음 행동을 선택하세요",
        "type": "multiple",
        "required": true,
        "options": ["새로운 문제 선택", "같은 문제 심화", "Intent 조정"]
      }
    ]
  },
  "Undetermined": {
    "situation": "Undetermined",
    "startQuestionId": "info-missing",
    "questions": [
      {
        "id": "info-missing",
        "question": "어떤 정보가 누락되었나요?",
        "type": "text",
        "required": true,
        "nextQuestionId": "info-can-collect"
      },
      {
        "id": "info-can-collect",
        "question": "필요한 정보를 수집할 수 있나요?",
        "type": "yesno",
        "required": true,
        "onYesNextQuestionId": "info-collect-plan",
        "onNoNextQuestionId": "closest-situation"
      },
      {
        "id": "info-collect-plan",
        "question": "정보 수집 계획을 작성해주세요",
        "type": "text",
        "required": true,
        "nextQuestionId": "closest-situation"
      },
      {
        "id": "closest-situation",
        "question": "가장 가까운 상황이 무엇인가요?",
        "type": "multiple",
        "required": true,
        "options": ["IntentDefined", "ProblemSelected", "AcceptanceDefined", "FeasibilityChecked", "DesignReady", "TaskBreakdown", "Implementing", "Verifying", "Verified", "Released", "FeedbackCollected", "Learned"]
      }
    ]
  }
}
